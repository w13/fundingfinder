{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/waqqashanafi/Repositories/FundingFinder/fundingfinder/lib/format.ts"],"sourcesContent":["export function formatSourceLabel(source: string): string {\n  return source\n    .split(\"_\")\n    .filter(Boolean)\n    .map((token) => token.charAt(0).toUpperCase() + token.slice(1))\n    .join(\" \");\n}\n"],"names":[],"mappings":";;;;AAAO,SAAS,kBAAkB,MAAc;IAC9C,OAAO,OACJ,KAAK,CAAC,KACN,MAAM,CAAC,SACP,GAAG,CAAC,CAAC,QAAU,MAAM,MAAM,CAAC,GAAG,WAAW,KAAK,MAAM,KAAK,CAAC,IAC3D,IAAI,CAAC;AACV"}},
    {"offset": {"line": 15, "column": 0}, "map": {"version":3,"sources":["file:///Users/waqqashanafi/Repositories/FundingFinder/fundingfinder/lib/shortlist.ts"],"sourcesContent":["import type { ShortlistItem } from \"./types\";\n\nconst API_BASE_URL =\n  process.env.GRANT_SENTINEL_API_URL ?? process.env.NEXT_PUBLIC_GRANT_SENTINEL_API_URL ?? \"\";\n\nexport async function fetchShortlist(): Promise<{ items: ShortlistItem[]; warning?: string }> {\n  if (!API_BASE_URL) {\n    return { items: [], warning: \"Set GRANT_SENTINEL_API_URL to your Worker API endpoint.\" };\n  }\n  const response = await fetch(new URL(\"/api/shortlist\", API_BASE_URL), { cache: \"no-store\" });\n  if (!response.ok) {\n    return { items: [], warning: `API error ${response.status}` };\n  }\n  const payload = (await response.json()) as { items: ShortlistItem[] };\n  return { items: payload.items ?? [] };\n}\n\nexport async function addShortlist(opportunityId: string, source: string): Promise<boolean> {\n  if (!API_BASE_URL) return false;\n  const response = await fetch(new URL(\"/api/shortlist\", API_BASE_URL), {\n    method: \"POST\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify({ opportunityId, source })\n  });\n  return response.ok;\n}\n\nexport async function removeShortlist(shortlistId: string): Promise<boolean> {\n  if (!API_BASE_URL) return false;\n  const response = await fetch(new URL(\"/api/shortlist/remove\", API_BASE_URL), {\n    method: \"POST\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify({ shortlistId })\n  });\n  return response.ok;\n}\n\nexport async function analyzeShortlist(shortlistIds?: string[]): Promise<boolean> {\n  if (!API_BASE_URL) return false;\n  const response = await fetch(new URL(\"/api/shortlist/analyze\", API_BASE_URL), {\n    method: \"POST\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify({ shortlistIds })\n  });\n  return response.ok;\n}\n"],"names":[],"mappings":";;;;;;;;;;AAEA,MAAM,eACJ,QAAQ,GAAG,CAAC,sBAAsB,oFAAsD;AAEnF,eAAe;IACpB,IAAI,CAAC,cAAc;QACjB,OAAO;YAAE,OAAO,EAAE;YAAE,SAAS;QAA0D;IACzF;IACA,MAAM,WAAW,MAAM,MAAM,IAAI,IAAI,kBAAkB,eAAe;QAAE,OAAO;IAAW;IAC1F,IAAI,CAAC,SAAS,EAAE,EAAE;QAChB,OAAO;YAAE,OAAO,EAAE;YAAE,SAAS,CAAC,UAAU,EAAE,SAAS,MAAM,EAAE;QAAC;IAC9D;IACA,MAAM,UAAW,MAAM,SAAS,IAAI;IACpC,OAAO;QAAE,OAAO,QAAQ,KAAK,IAAI,EAAE;IAAC;AACtC;AAEO,eAAe,aAAa,aAAqB,EAAE,MAAc;IACtE,IAAI,CAAC,cAAc,OAAO;IAC1B,MAAM,WAAW,MAAM,MAAM,IAAI,IAAI,kBAAkB,eAAe;QACpE,QAAQ;QACR,SAAS;YAAE,gBAAgB;QAAmB;QAC9C,MAAM,KAAK,SAAS,CAAC;YAAE;YAAe;QAAO;IAC/C;IACA,OAAO,SAAS,EAAE;AACpB;AAEO,eAAe,gBAAgB,WAAmB;IACvD,IAAI,CAAC,cAAc,OAAO;IAC1B,MAAM,WAAW,MAAM,MAAM,IAAI,IAAI,yBAAyB,eAAe;QAC3E,QAAQ;QACR,SAAS;YAAE,gBAAgB;QAAmB;QAC9C,MAAM,KAAK,SAAS,CAAC;YAAE;QAAY;IACrC;IACA,OAAO,SAAS,EAAE;AACpB;AAEO,eAAe,iBAAiB,YAAuB;IAC5D,IAAI,CAAC,cAAc,OAAO;IAC1B,MAAM,WAAW,MAAM,MAAM,IAAI,IAAI,0BAA0B,eAAe;QAC5E,QAAQ;QACR,SAAS;YAAE,gBAAgB;QAAmB;QAC9C,MAAM,KAAK,SAAS,CAAC;YAAE;QAAa;IACtC;IACA,OAAO,SAAS,EAAE;AACpB"}},
    {"offset": {"line": 91, "column": 0}, "map": {"version":3,"sources":["file:///Users/waqqashanafi/Repositories/FundingFinder/fundingfinder/components/ScoreBadge.tsx"],"sourcesContent":["type ScoreBadgeProps = {\n  label: string;\n  value: number | null;\n};\n\nexport function ScoreBadge({ label, value }: ScoreBadgeProps) {\n  const score = value ?? 0;\n  const variant = value === null ? \"muted\" : score >= 80 ? \"good\" : score >= 60 ? \"warn\" : \"low\";\n\n  return (\n    <span className={`badge badge--${variant}`}>\n      {label}: {value ?? \"N/A\"}\n    </span>\n  );\n}\n"],"names":[],"mappings":";;;;;;AAKO,SAAS,WAAW,EAAE,KAAK,EAAE,KAAK,EAAmB;IAC1D,MAAM,QAAQ,SAAS;IACvB,MAAM,UAAU,UAAU,OAAO,UAAU,SAAS,KAAK,SAAS,SAAS,KAAK,SAAS;IAEzF,qBACE,gSAAC;QAAK,WAAW,CAAC,aAAa,EAAE,SAAS;;YACvC;YAAM;YAAG,SAAS;;;;;;;AAGzB"}},
    {"offset": {"line": 117, "column": 0}, "map": {"version":3,"sources":["file:///Users/waqqashanafi/Repositories/FundingFinder/fundingfinder/components/OpportunityList.tsx"],"sourcesContent":["import Link from \"next/link\";\nimport { revalidatePath } from \"next/cache\";\nimport type { Opportunity } from \"../lib/types\";\nimport { formatSourceLabel } from \"../lib/format\";\nimport { addShortlist } from \"../lib/shortlist\";\nimport { ScoreBadge } from \"./ScoreBadge\";\n\ntype OpportunityListProps = {\n  items: Opportunity[];\n  shortlistKeys?: string[];\n  showShortlistActions?: boolean;\n};\n\nexport default function OpportunityList({ items, shortlistKeys = [], showShortlistActions = false }: OpportunityListProps) {\n  const shortlistSet = new Set(shortlistKeys);\n\n  async function handleShortlist(formData: FormData) {\n    \"use server\";\n    const opportunityId = String(formData.get(\"opportunityId\") ?? \"\").trim();\n    const source = String(formData.get(\"source\") ?? \"\").trim();\n    if (!opportunityId || !source) return;\n    await addShortlist(opportunityId, source);\n    revalidatePath(\"/\");\n    revalidatePath(\"/shortlist\");\n  }\n\n  if (items.length === 0) {\n    return (\n      <div className=\"card\">\n        <h3 style={{ margin: 0 }}>No opportunities yet</h3>\n        <p className=\"muted\" style={{ marginTop: \"8px\" }}>\n          Trigger the ingestion Worker to populate the database, or refine your search.\n        </p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"grid\">\n      {items.map((item) => (\n        <div key={item.id} className=\"card\" style={{ display: \"grid\", gap: \"12px\" }}>\n          <div style={{ display: \"flex\", justifyContent: \"space-between\", gap: \"12px\", flexWrap: \"wrap\" }}>\n            <div>\n              <Link href={`/opportunities/${item.id}`}>\n                <h3 style={{ margin: 0, fontSize: \"18px\" }}>{item.title}</h3>\n              </Link>\n              <p className=\"muted\" style={{ margin: \"4px 0 0\" }}>\n                {item.agency ?? \"Unknown agency\"} Â· {formatSourceLabel(item.source)}\n              </p>\n            </div>\n            <div style={{ display: \"flex\", gap: \"8px\", flexWrap: \"wrap\", justifyContent: \"flex-end\" }}>\n              <ScoreBadge label=\"Feasibility\" value={item.feasibilityScore} />\n              <ScoreBadge label=\"Suitability\" value={item.suitabilityScore ?? null} />\n              <ScoreBadge label=\"Profitability\" value={item.profitabilityScore} />\n            </div>\n          </div>\n          <p style={{ margin: 0 }}>{item.summary ?? \"No summary captured yet.\"}</p>\n          <div style={{ display: \"flex\", gap: \"16px\", fontSize: \"12px\", color: \"#64748b\", flexWrap: \"wrap\" }}>\n            <span>Posted: {item.postedDate ?? \"N/A\"}</span>\n            <span>Due: {item.dueDate ?? \"N/A\"}</span>\n            <span>Keyword score: {item.keywordScore}</span>\n          </div>\n          {showShortlistActions ? (\n            <div style={{ display: \"flex\", gap: \"12px\", flexWrap: \"wrap\" }}>\n              {shortlistSet.has(`${item.source}:${item.opportunityId}`) ? (\n                <span className=\"pill\">Shortlisted</span>\n              ) : (\n                <form action={handleShortlist}>\n                  <input type=\"hidden\" name=\"opportunityId\" value={item.opportunityId} />\n                  <input type=\"hidden\" name=\"source\" value={item.source} />\n                  <button className=\"button button--secondary\" type=\"submit\">\n                    Add to shortlist\n                  </button>\n                </form>\n              )}\n              <Link href={`/opportunities/${item.id}`} className=\"button button--secondary\">\n                View details\n              </Link>\n            </div>\n          ) : null}\n        </div>\n      ))}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 419, "column": 0}, "map": {"version":3,"sources":["file:///Users/waqqashanafi/Repositories/FundingFinder/fundingfinder/.next-internal/server/app/page/actions.js%20%28server%20actions%20loader%29"],"sourcesContent":["export {$$RSC_SERVER_ACTION_0 as '40ae5a1aba4cd59064f371f11958c3bdab34bb555c'} from 'ACTIONS_MODULE0'\n"],"names":[],"mappings":";AAAA"}}]
}